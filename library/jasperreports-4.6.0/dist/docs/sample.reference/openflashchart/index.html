<html xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://jasperreports.sourceforge.net/jasperreports">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JasperReports 4.6.0 - Open Flash Chart Component Sample</title>
<style type="text/css">
.title {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 28px;
	font-weight: normal;
}

.toc {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: normal;
}

.name {
	font-family: Courier New, Courier, serif;
	font-size: 16px;
	font-weight: bold;
}

.label {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 12px;
	font-weight: bold;
	font-style: italic;
}

.description {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-size: 12px;
	font-weight: normal;
}

.value {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: normal;
}

.element {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: normal;
}

.attribute {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: bold;
}

.code {
	font-family: Courier New, Courier, serif;
	font-size: 12px;
	font-weight: normal;
}

.copy {
	font-decoration: none;
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 8pt;
	font-style: normal;
	color: #000000;
}

.subtitle {
	font-family: inherit;
	font-size: inherit;
	font-style: inherit;
	font-weight: bold;
	text-decoration: none;
	color: inherit;
}

</style>
</head>
<body bgcolor="#FFFFFF">
<a name="top"></a>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td colspan="2" align="right"><span class="element"><a href="../../JasperReports-Ultimate-Guide-3.pdf">JasperReports Ultimate Guide</a> - <a href="../../sample.reference.html">Sample Reference</a> - <a href="../../schema.reference.html">Schema Reference</a> - <a href="../../config.reference.html">Configuration Reference</a> - <a href="http://jasperreports.sourceforge.net/api/index.html">API (Javadoc)</a></span>
<br>
</td>
</tr>
<tr>
<td colspan="2">
<hr size="1">
</td>
</tr>
<tr valign="middle">
<td nowrap="true"><span class="title">JasperReports - Open Flash Chart Component Sample (version 4.6.0)</span></td><td align="right"><img src="../../resources/jasperreports.png" border="0"></td>
</tr>
<tr>
<td colspan="2">
<hr size="1">
</td>
</tr>
</table>
<br>
<span class="description"><span class="description">Shows how Open Flash Chart objects could be included in HTML and PDF reports using a specially designed component.</span></span>
<br>
<br>
<span class="element"><a href="http://sourceforge.net/projects/jasperreports/files/jasperreports/JasperReports%204.6.0/jasperreports-4.6.0-project.zip/download" target="_blank">Download All Sample Source Files</a></span>
<br>
<span class="element"><a href="http://jasperforge.org/scm/viewvc.php/tags/jr-4-6-0/jasperreports/demo/samples/openflashchart/?root=jasperreports" target="_blank">Browse Sample Source Files on SVN</a></span>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td style="width: 20px;">
<br>
</td><td>
<br>
</td>
</tr>
<tr>
<td colspan="2"><span class="label">Main Features in This Sample</span></td>
</tr>
<tr>
<td>
<br>
</td><td><span class="element"><a href="#openflashchart">Implementing Custom Components to Embed Third Party Visualisation Tools (Open Flash Chart Library)</a></span></td>
</tr>
</table>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td><img src="../../resources/px.gif" border="0" width="20" height="1"></td><td><img src="../../resources/px.gif" border="0" width="20" height="1"></td><td><img src="../../resources/px.gif" border="0" width="20" height="1"></td><td><img src="../../resources/px.gif" border="0" width="20" height="1"></td><td width="80%">
<br>
</td><td width="20%">
<br>
</td>
</tr>
<tr>
<td colspan="6" align="right"><a name="openflashchart"></a><a href="#top" class="toc">top</a></td>
</tr>
<tr>
<td colspan="6">
<hr size="1">
</td>
</tr>
<tr valign="top">
<td><img src="../../resources/jr-16x16.png" border="0"></td><td colspan="4"><span class="name">Implementing Custom Components to Embed Third Party Visualisation Tools (Open Flash Chart Library)</span></td><td align="right"><span class="copy">Documented by 
	<a href="mailto:shertage@users.sourceforge.net" class="copy">Sanda Zaharia</a></span></td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
<tr valign="top">
<td>
<br>
</td><td nowrap="true"><span class="label">Description / Goal</span></td><td>
<br>
</td><td colspan="3"><span class="description">
How to implement a custom component to wrap charts rendered by the <a href="http://teethgrinder.co.uk/open-flash-chart/" target="_blank" class="element">Open Flash Chart</a> library. 
    </span></td>
</tr>
<tr valign="top">
<td>
<br>
</td><td colspan="1"><span class="label">Since</span></td><td>
<br>
</td><td colspan="3"><span class="description">3.1.2</span></td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
<tr>
<td>
<br>
</td><td colspan="5"><span class="description">
<a name="overview" href="../../sample.reference/openflashchart/index.html#overview" class="subtitle">The Open Flash Chart Component - Overview</a>

<br>

<br>
This sample illustrates how the pie and bar charts produced with the <a href="http://teethgrinder.co.uk/open-flash-chart/" target="_blank" class="element">Open Flash Chart</a> library can be implemented 
and used as JasperReports components.
<br>
Charts based on the <a href="http://teethgrinder.co.uk/open-flash-chart/" target="_blank" class="element">Open Flash Chart</a> library are converted into single embeddable Flash objects and provide interesting dynamic 
visual effects that could make them represent the best candidate to display various statistics, especially on interactive web sites. 
<br>
The generated Flash objects are reading their data and configuration parameters in the JSON format. Data can be either read from existing text files, or dynamically passed through JavaScript.
<br>
An apparent inconvenient is that there are no built-in elements in the basic JasperReports library to handle Flash objects. But the very flexible JasperReports engine can easily integrate 
such kind of objects, if they come with their own rendering mechanism to be plugged in at report filling time. In other words, if they are embedded into a JasperReports component.
<br>
Here we have an example.
<br>

<br>

<a name="schema" href="../../sample.reference/openflashchart/index.html#schema" class="subtitle">The Open Flash Chart Component - Schema</a>

<br>

<br>
The schema definition for the pie and bar chart components can be found in the <span class="code"><code>src/net/sf/jasperreports/components/ofc/openflashchart.xsd</code></span>:
<pre>
&lt;element name="pieChart" substitutionGroup="jr:component"&gt;
  &lt;complexType&gt;
    &lt;complexContent&gt;
      &lt;extension base="jr:componentType"&gt;
        &lt;sequence&gt;
          &lt;element ref="ofc:pieDataset"/&gt;
          &lt;element name="titleExpression"&gt;
            &lt;complexType mixed="true"/&gt;
          &lt;/element&gt;
        &lt;/sequence&gt;
        &lt;attribute name="evaluationTime" type="jr:basicEvaluationTime" use="optional" default="Now"/&gt;
        &lt;attribute name="evaluationGroup" type="string" use="optional"/&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
&lt;/element&gt;

&lt;element name="pieDataset"&gt;
  &lt;complexType&gt;
    &lt;sequence&gt;
      &lt;element ref="jr:dataset" minOccurs="0" maxOccurs="1"/&gt;
      &lt;element name="keyExpression"&gt;
        &lt;complexType mixed="true"/&gt;
      &lt;/element&gt;
      &lt;element name="valueExpression"&gt;
        &lt;complexType mixed="true"/&gt;
      &lt;/element&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
&lt;/element&gt;

&lt;element name="barChart" substitutionGroup="jr:component"&gt;
  &lt;complexType&gt;
    &lt;complexContent&gt;
      &lt;extension base="jr:componentType"&gt;
        &lt;sequence&gt;
          &lt;element ref="ofc:barDataset"/&gt;
          &lt;element name="titleExpression"&gt;
            &lt;complexType mixed="true"/&gt;
          &lt;/element&gt;
        &lt;/sequence&gt;
        &lt;attribute name="evaluationTime" type="jr:basicEvaluationTime" use="optional" default="Now"/&gt;
        &lt;attribute name="evaluationGroup" type="string" use="optional"/&gt;
      &lt;/extension&gt;
    &lt;/complexContent&gt;
  &lt;/complexType&gt;
&lt;/element&gt;

&lt;element name="barDataset"&gt;
  &lt;complexType&gt;
    &lt;sequence&gt;
      &lt;element ref="jr:dataset" minOccurs="0" maxOccurs="1"/&gt;
      &lt;element name="barSeries" minOccurs="1" maxOccurs="unbounded"&gt;
        &lt;complexType&gt;
          &lt;sequence&gt;
            &lt;element name="seriesExpression"&gt;
              &lt;complexType mixed="true"/&gt;
            &lt;/element&gt;
            &lt;element name="categoryExpression"&gt;
              &lt;complexType mixed="true"/&gt;
            &lt;/element&gt;
            &lt;element name="valueExpression"&gt;
              &lt;complexType mixed="true"/&gt;
            &lt;/element&gt;
          &lt;/sequence&gt;
        &lt;/complexType&gt;
      &lt;/element&gt;
    &lt;/sequence&gt;
  &lt;/complexType&gt;
&lt;/element&gt;</pre>
According to the schema, the pie chart component resides on a pie dataset and a title expression, along with the <span class="code"><code>evaluationTime</code></span> and 
<span class="code"><code>evaluationGroup</code></span> attributes. In a similar mode the bar chart is completely characterized by the bar dataset, the title expression 
and attributes <span class="code"><code>evaluationTime</code></span> and <span class="code"><code>evaluationGroup</code></span>.
<br>
Slices in the pie dataset are configured using the <span class="code"><code>keyExpression</code></span> and <span class="code"><code>valueExpression</code></span>.
<br>
Series in the bar dataset are each one characterized by a <span class="code"><code>seriesExpression</code></span>, a <span class="code"><code>categoryExpression</code></span> and a <span class="code"><code>valueExpression</code></span>.
<br>

<br>

<a name="embedding" href="../../sample.reference/openflashchart/index.html#embedding" class="subtitle">Embedding The Open Flash Chart Component</a>

<br>

<br>
The <span class="code"><code>src/jasperreports_extension.properties</code></span> file contains the following entries:
<ul>

<li>
<span class="code"><code>net.sf.jasperreports.extension.registry.factory.fcharts=net.sf.jasperreports.extensions.SpringExtensionsRegistryFactory</code></span>
</li>

<li>
<span class="code"><code>net.sf.jasperreports.extension.fcharts.spring.beans.resource=net/sf/jasperreports/components/ofc/chart_beans.xml</code></span>
</li>

</ul>
Hence the Open Flash Chart components will be registered as Spring-based extension, in accordance with beans in the <span class="code"><code>net/sf/jasperreports/components/ofc/chart_beans.xml</code></span>:
<pre>
&lt;bean id="componentsBundle" class="net.sf.jasperreports.engine.component.DefaultComponentsBundle"&gt;
  &lt;property name="xmlParser"&gt;
    &lt;ref local="xmlParser"/&gt;
  &lt;/property&gt;
  &lt;property name="componentManagers"&gt;
    &lt;map&gt;
      &lt;entry key="pieChart"&gt;
        &lt;ref local="pieChartManager"/&gt;
      &lt;/entry&gt;
      &lt;entry key="barChart"&gt;
        &lt;ref local="barChartManager"/&gt;
      &lt;/entry&gt;
    &lt;/map&gt;
  &lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="xmlParser" class="net.sf.jasperreports.engine.component.DefaultComponentXmlParser"&gt;
  &lt;property name="namespace"&gt;
    &lt;value&gt;http://jasperreports.sourceforge.net/openflashchart&lt;/value&gt;
  &lt;/property&gt;
  &lt;property name="publicSchemaLocation"&gt;
    &lt;value&gt;http://jasperreports.sourceforge.net/xsd/openflashchart.xsd&lt;/value&gt;
  &lt;/property&gt;
  &lt;property name="internalSchemaResource"&gt;
    &lt;value&gt;net/sf/jasperreports/components/ofc/openflashchart.xsd&lt;/value&gt;
  &lt;/property&gt;
  &lt;property name="digesterConfigurer"&gt;
    &lt;bean class="net.sf.jasperreports.components.ofc.ChartsDigester"/&gt;
  &lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="pieChartManager" class="net.sf.jasperreports.engine.component.DefaultComponentManager"&gt;
  &lt;property name="componentCompiler"&gt;
    &lt;bean class="net.sf.jasperreports.components.ofc.PieChartCompiler"/&gt;
  &lt;/property&gt;
  &lt;property name="componentXmlWriter"&gt;
    &lt;bean class="net.sf.jasperreports.components.ofc.PieChartXmlWriter"/&gt;
  &lt;/property&gt;
  &lt;property name="componentFillFactory"&gt;
    &lt;bean class="net.sf.jasperreports.components.ofc.PieChartFillFactory"/&gt;
  &lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="barChartManager" class="net.sf.jasperreports.engine.component.DefaultComponentManager"&gt;
  &lt;property name="componentCompiler"&gt;
    &lt;bean class="net.sf.jasperreports.components.ofc.BarChartCompiler"/&gt;
  &lt;/property&gt;
  &lt;property name="componentXmlWriter"&gt;
    &lt;bean class="net.sf.jasperreports.components.ofc.BarChartXmlWriter"/&gt;
  &lt;/property&gt;
  &lt;property name="componentFillFactory"&gt;
    &lt;bean class="net.sf.jasperreports.components.ofc.BarChartFillFactory"/&gt;
  &lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="chartsExportHandlerBundle" 
    class="net.sf.jasperreports.engine.export.DefaultElementHandlerBundle"&gt;
  &lt;property name="namespace" value="http://jasperreports.sourceforge.net/openflashchart"/&gt;
  &lt;property name="elementHandlers"&gt;
    &lt;map&gt;
      &lt;entry key="chart"&gt;
        &lt;map&gt;
          &lt;entry key="net.sf.jasperreports.html"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartHtmlHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.pdf"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartNoPdfHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.xls"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartXlsHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.jxl"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartJExcelApiHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.rtf"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartRtfHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.xhtml"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartXhtmlHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.odt"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartOdtHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.ods"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartOdsHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.docx"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartDocxHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.xlsx"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartXlsxHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.pptx"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartPptxHandler"/&gt;
          &lt;/entry&gt;
          &lt;entry key="net.sf.jasperreports.xml4swf"&gt;
            &lt;bean class="net.sf.jasperreports.components.ofc.ChartXml4SwfHandler"/&gt;
          &lt;/entry&gt;
        &lt;/map&gt;
      &lt;/entry&gt;
    &lt;/map&gt;
  &lt;/property&gt;
&lt;/bean&gt;</pre>
One can notice the <span class="code"><code>Chart*Handler</code></span> classes in the <span class="code"><code>chartsExportHandlerBundle</code></span>, used to handle the output for 
different export formats. Excepting the HTML/XHTML and PDF that provide support for Flash objects, all other output format handlers 
extend the <span class="code"><code>net.sf.jasperreports.components.ofc.BaseChartHandler</code></span> class, ensuring that the generated element will display 
the replacement text <span class="code"><code>'[Open Flash Chart Component]'</code></span> instead.
<br>
All necessary APIs to implement these components are found in the  <span class="code"><code>src/net/sf/jasperreports/components/ofc</code></span> directory:
<ul>

<li>
<span class="code"><code>BarChartCompiler.java</code></span> - the compiler class for the bar chart component</li>

<li>
<span class="code"><code>BarChartComponent.java</code></span> - the bar chart component class</li>

<li>
<span class="code"><code>BarChartFillFactory.java</code></span> - the fill factory class for the bar chart component</li>

<li>
<span class="code"><code>BarChartXmlFactory.java</code></span> - the XML factory class for the bar chart component</li>

<li>
<span class="code"><code>BarChartXmlWriter.java</code></span> - the XML writer class for the bar chart component</li>

<li>
<span class="code"><code>BarDataset.java</code></span> - the embedded bar dataset class</li>

<li>
<span class="code"><code>BarSeries.java</code></span> - the bar series class</li>

<li>
<span class="code"><code>BaseChartHandler.java</code></span> - the basic chart handler class that produces either a simple text replacement or a cell containing a text 
replacement, to be used in output formats that not support Flash</li>

<li>
<span class="code"><code>ChartDataGenerator.java</code></span> - class that generates data for pie and bar charts in JSON format</li>

<li>
<span class="code"><code>ChartDocxHandler.java</code></span> - handler class for the DOCX output format. Produces text replacement for the Flash object.</li>

<li>
<span class="code"><code>ChartHtmlHandler.java</code></span> - handler class for the HTML output format. Embeds the Flash object into the HTML page.</li>

<li>
<span class="code"><code>ChartJExcelApiHandler.java</code></span> - handler class for the Excel 2003 output format, using the JExcelApiExporter (based on the JExcelApi library). 
Produces text replacement for the Flash object.</li>

<li>
<span class="code"><code>ChartNoPdfHandler.java</code></span> - handler class for the PDF output format that produces text replacement for the Flash object</li>

<li>
<span class="code"><code>ChartOdsHandler.java</code></span> - handler class for the ODS output format. Produces text replacement for the Flash object.</li>

<li>
<span class="code"><code>ChartOdtHandler.java</code></span> - handler class for the ODT output format. Produces text replacement for the Flash object.</li>

<li>
<span class="code"><code>ChartPdfHandler.java</code></span> - handler class for the PDF output format that embeds the Flash object into the PDF document</li>

<li>
<span class="code"><code>ChartPptxHandler.java</code></span> - handler class for the PPTX output format. Produces text replacement for the Flash object.</li>

<li>
<span class="code"><code>ChartRtfHandler.java</code></span> - handler class for the RTF output format. Produces text replacement for the Flash object.</li>

<li>
<span class="code"><code>ChartsDigester.java</code></span> - the digester class for the chart component</li>

<li>
<span class="code"><code>ChartXhtmlHandler.java</code></span> - handler class for the XHTML output format. Embeds the Flash object into the generated HTML page.</li>

<li>
<span class="code"><code>ChartXlsHandler.java</code></span> - handler class for the Excel 2003 output format, using the JRXlsExporter (based on the Apache POI library). 
Produces text replacement for the Flash object.</li>

<li>
<span class="code"><code>ChartXlsxHandler.java</code></span> - handler class for the Excel 2010 (XLSX) output format. Produces text replacement for the Flash object.</li>

<li>
<span class="code"><code>ChartXml4SwfHandler.java</code></span> - handler class to be used when exporting the document to the Flash viewer.</li>

<li>
<span class="code"><code>CompiledBarDataset.java</code></span> - class for compiled bar dataset</li>

<li>
<span class="code"><code>CompiledPieDataset.java</code></span> - class for compiled pie dataset</li>

<li>
<span class="code"><code>DefaultBarSeries.java</code></span> - class that configure the series structure in a bar dataset</li>

<li>
<span class="code"><code>DesignBarDataset.java</code></span> - design class for the bar dataset</li>

<li>
<span class="code"><code>DesignPieDataset.java</code></span> - design class for the pie dataset</li>

<li>
<span class="code"><code>FillBarChart.java</code></span> - the fill bar chart class</li>

<li>
<span class="code"><code>FillBarDataset.java</code></span> - the fill bar dataset class</li>

<li>
<span class="code"><code>FillBarSeries.java</code></span> - the fill bar series class</li>

<li>
<span class="code"><code>FillPieChart.java</code></span> - the fill pie chart class</li>

<li>
<span class="code"><code>FillPieDataset.java</code></span> - the fill pie dataset class</li>

<li>
<span class="code"><code>PieChartCompiler.java</code></span> - the compiler class for the pie chart component</li>

<li>
<span class="code"><code>PieChartComponent.java</code></span> - the pie chart component class</li>

<li>
<span class="code"><code>PieChartFillFactory.java</code></span> - the fill factory class for the pie chart component</li>

<li>
<span class="code"><code>PieChartXmlFactory.java</code></span> - the XML factory class for the pie chart component</li>

<li>
<span class="code"><code>PieChartXmlWriter.java</code></span> - the XML writer for the pie chart component</li>

<li>
<span class="code"><code>PieDataset.java</code></span> - class for the pie dataset</li>

</ul>

<a name="sample" href="../../sample.reference/openflashchart/index.html#sample" class="subtitle">The JCharts Component - Sample</a>

<br>

<br>
The <span class="code"><code>OpenFlashChartReport.jrxml</code></span> template in the <span class="code"><code>demo/samples/openflashchart</code></span> directory contains both the pie chart 
and the bar chart components in the summary section:
<pre>
&lt;componentElement&gt;
  &lt;reportElement x="0" y="0" width="555" height="350"/&gt;
  &lt;ofc:pieChart xmlns:ofc="http://jasperreports.sourceforge.net/openflashchart"
      xsi:schemaLocation="http://jasperreports.sourceforge.net/openflashchart http://jasperreports.sourceforge.net/xsd/openflashchart.xsd"
      evaluationTime="Report"&gt;
    &lt;ofc:pieDataset&gt;
      &lt;dataset incrementType="Group" incrementGroup="Country"/&gt;
      &lt;ofc:keyExpression&gt;$F{ShipCountry}&lt;/ofc:keyExpression&gt;
      &lt;ofc:valueExpression&gt;$V{CountryFreight}&lt;/ofc:valueExpression&gt;
    &lt;/ofc:pieDataset&gt;
    &lt;ofc:titleExpression&gt;"Pie Chart"&lt;/ofc:titleExpression&gt;
  &lt;/ofc:pieChart&gt;
&lt;/componentElement&gt;
&lt;componentElement&gt;
  &lt;reportElement x="0" y="400" width="555" height="350"/&gt;
  &lt;ofc:barChart xmlns:ofc="http://jasperreports.sourceforge.net/openflashchart"
      xsi:schemaLocation="http://jasperreports.sourceforge.net/openflashchart http://jasperreports.sourceforge.net/xsd/openflashchart.xsd"
      evaluationTime="Report"&gt;
    &lt;ofc:barDataset&gt;
      &lt;dataset incrementType="Group" incrementGroup="Year"/&gt;
      &lt;ofc:barSeries&gt;
        &lt;ofc:seriesExpression&gt;$F{ShipCountry}&lt;/ofc:seriesExpression&gt;
        &lt;ofc:categoryExpression&gt;$V{OrderYear}&lt;/ofc:categoryExpression&gt;
        &lt;ofc:valueExpression&gt;$V{CountryYearFreight}&lt;/ofc:valueExpression&gt;
      &lt;/ofc:barSeries&gt;
    &lt;/ofc:barDataset&gt;
    &lt;ofc:titleExpression&gt;"Bar Chart"&lt;/ofc:titleExpression&gt;
  &lt;/ofc:barChart&gt;
&lt;/componentElement&gt;</pre>
One can see the very simple configuration requirements for both Open Flash Charts prefixed with the <span class="code"><code>ofc:</code></span> namespace prefix. They 
only need to know the chart data source and some adequate expressions for series in the dataset, all the remaining TODO stuff being automatized 
by the Open Flash Chart and JasperReports libraries working together. 
<br>

<br>

<b>Running the Sample</b>

<br>

<br>
Running the sample requires the <a href="http://ant.apache.org/" target="_blank" class="element">Apache Ant</a> library. Make sure that <span class="code"><code>ant</code></span> is already installed on your system (version 1.5 or later).
<br>
In a command prompt/terminal window set the current folder to <span class="code"><code>demo/hsqldb</code></span> within the JasperReports source project and run the <span class="code"><code>&gt; ant runServer</code></span> command. 
It will start the HSQLDB server shipped with the JasperReports distribution package. Let this terminal running the HSQLDB server.  
<br>
Open a new command prompt/terminal window and set the current folder to <span class="code"><code>demo/samples/openflashchart</code></span> within the JasperReports source project and run the <span class="code"><code>&gt; ant 
test</code></span> command.
<br>
It will generate all supported document types containing the sample report in the <span class="code"><code>demo/samples/openflashchart/build/reports</code></span> directory. 
<br>
You will notice that all generated documents excepting <span class="code"><code>OpenFlashChartReport.html</code></span> and <span class="code"><code>OpenFlashChartReport.x.html</code></span> are displaying two text elements labeled 
<span class="code"><code>'[Open Flash Chart Component]'</code></span>. Also, when opening the HTML and XHTML pages, they are apparently empty. That's because of security restrictions that prevent Flash objects 
to communicate with the HTML pages wherein they are embedded.
<br>
Such a problem could be avoided using a HTTP server. This exactly happens when the <span class="code"><code>&gt; ant viewHtml</code></span> command is run in the terminal. A NanoHTTPD server is started and 
the served web page may now access the trusted SWF file. Both pie and bar charts can be observed in the browser, for both HTML and XHTML output formats. 
    </span></td>
</tr>
<tr>
<td colspan="6">
<br>
</td>
</tr>
</table>
<br>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td>
<hr size="1">
</td>
</tr>
<tr>
<td align="center"><span class="copy">&copy; 2001-<script language="javascript">document.write((new Date()).getFullYear())</script> Jaspersoft Corporation <a href="http://www.jaspersoft.com" target="_blank" class="copy">www.jaspersoft.com</a></span></td>
</tr>
</table>
</body>
</html>
